rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /States/{StateId} {
      allow read: if true;
      allow write: if false;
    }
    match /Hospitals/{HospitalId} {
      allow read: if true;
      allow write: if request.auth != null
                   && get(/databases/$(database)/documents/HospExtras/$(resource.id)).data.AdminId == request.auth.uid
                   && request.resource.id == HospitalId;
    }
    match /HospExtras/{HospitalId} {
      allow read, write: if false;
    }
  }
}
